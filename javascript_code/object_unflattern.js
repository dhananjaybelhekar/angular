var arr = [{"id":1,"tag":"Sec","parent":"0","type":"","printType":"","children":[{"id":2,"tag":"ChapterName","parent":1,"type":"","printType":"","children":[{"id":3,"tag":"Org","parent":2,"type":"array","printType":"","children":[{"id":4,"tag":"OrgInfo","parent":"3","type":"","printType":"","children":[{"id":5,"tag":"OrganizationID","parent":4,"type":"","printType":"value","children":[]},{"id":6,"tag":"OrganizationName","parent":4,"type":"","printType":"value","children":[]}]},{"id":7,"tag":"AddressInfo","parent":3,"type":"","printType":"","children":[{"id":8,"tag":"Address","parent":7,"type":"","printType":"","children":[{"id":9,"tag":"AddressStreet1","parent":8,"type":"","printType":"value","children":[]},{"id":10,"tag":"AddressCity","parent":8,"type":"","printType":"value","children":[]},{"id":11,"tag":"AddressStateTerritoryAbbr","parent":8,"type":"","printType":"value","children":[]},{"id":12,"tag":"AddressZip","parent":8,"type":"","printType":"value","children":[]}]}]},{"id":13,"tag":"ContactInfo","parent":3,"type":"","printType":"","children":[{"id":14,"tag":"ContactPhoneNo","parent":13,"type":"","printType":"value","children":[]},{"id":15,"tag":"ContactFax","parent":13,"type":"","printType":"value","children":[]},{"id":16,"tag":"ContactPrimaryEmail","parent":13,"type":"","printType":"value","children":[]},{"id":17,"tag":"ContactWebsites","parent":13,"type":"","printType":"value","children":[]}]},{"id":18,"tag":"InvestmentCommitteeOfficersInfo","parent":3,"type":"","printType":"","children":[{"id":19,"tag":"KeyPersonnel","parent":18,"type":"array","printType":"","children":[{"id":20,"tag":"KeyPersonnelFirstName","parent":19,"type":"","printType":"value","children":[]},{"id":21,"tag":"KeyPersonnelLastName","parent":19,"type":"","printType":"value","children":[]},{"id":22,"tag":"KeyPersonnelTitle","parent":19,"type":"","printType":"value","children":[]},{"id":23,"tag":"KeyPersonnelPhoneNo","parent":19,"type":"","printType":"value","children":[]}]}]},{"id":24,"tag":"NewBusinessContactOfficersInfo","parent":3,"type":"array","printType":"","children":[{"id":25,"tag":"KeyPersonnel","parent":24,"type":"","printType":"","children":[{"id":26,"tag":"KeyPersonnelFirstName","parent":25,"type":"","printType":"value","children":[]},{"id":27,"tag":"KeyPersonnelLastName","parent":25,"type":"","printType":"value","children":[]},{"id":28,"tag":"KeyPersonnelTitle","parent":25,"type":"","printType":"value","children":[]},{"id":29,"tag":"KeyPersonnelPhoneNo","parent":25,"type":"","printType":"value","children":[]}]}]},{"id":30,"tag":"MinimumOperatingDataInfo","parent":3,"type":"","printType":"","children":[{"id":31,"tag":"MinimumOperatingData","parent":30,"type":"","printType":"","children":[{"id":32,"tag":"ChapterSpecificationSpecificationTypeName","parent":31,"type":"","printType":"value","children":[]}]}]},{"id":33,"tag":"IndustryPreferenceInfo","parent":3,"type":"array","printType":"","children":[{"id":34,"tag":"IndustryPreference","parent":33,"type":"","printType":"","children":[{"id":35,"tag":"ChapterSpecificationSpecificationTypeName","parent":34,"type":"","printType":"value","children":[]}]}]},{"id":36,"tag":"FirmPrefersNotToInvestInInfo","parent":3,"type":"","printType":"","children":[{"id":37,"tag":"FirmPrefersNotToInvestIn","parent":36,"type":"","printType":"","children":[{"id":38,"tag":"ChapterSpecificationSpecificationTypeName","parent":37,"type":"","printType":"value","children":[]}]}]},{"id":39,"tag":"FeeStructureAndMethodCompensationInfo","parent":3,"type":"","printType":"","children":[{"id":40,"tag":"FeeStructureAndMethodCompensation","parent":39,"type":"","printType":"","children":[{"id":41,"tag":"ChapterSpecificationSpecificationTypeName","parent":40,"type":"","printType":"value","children":[]}]}]},{"id":42,"tag":"ExitCriteriaInfo","parent":3,"type":"","printType":"","children":[{"id":43,"tag":"ExitCriteria","parent":42,"type":"","printType":"","children":[{"id":44,"tag":"ChapterSpecificationSpecificationTypeName","parent":43,"type":"","printType":"value","children":[]}]}]},{"id":45,"tag":"EstablishInfo","parent":3,"type":"","printType":"","children":[{"id":46,"tag":"EstablishedYear","parent":45,"type":"","printType":"","children":[]}]},{"id":47,"tag":"InvesmentPortfolioSizeInfo","parent":3,"type":"","printType":"","children":[{"id":48,"tag":"InvesmentPortfolioSize","parent":47,"type":"","printType":"","children":[{"id":49,"tag":"ChapterSpecificationSpecificationTypeName","parent":48,"type":"","printType":"value","children":[]}]}]},{"id":50,"tag":"MainSourceOfCapitalInfo","parent":3,"type":"","printType":"","children":[{"id":51,"tag":"MainSourceOfCapital","parent":50,"type":"","printType":"","children":[{"id":52,"tag":"ChapterSpecificationSpecificationTypeName","parent":51,"type":"","printType":"value","children":[]}]}]},{"id":53,"tag":"FundsAvailableForInvesmentOrLoansInfo","parent":3,"type":"","printType":"","children":[{"id":54,"tag":"FundsAvailableForInvesmentOrLoans","parent":53,"type":"","printType":"","children":[{"id":55,"tag":"ChapterSpecificationSpecificationTypeName","parent":54,"type":"","printType":"value","children":[]}]}]},{"id":56,"tag":"MinimumSizeInvesmentInfo","parent":3,"type":"","printType":"","children":[{"id":57,"tag":"MinimumSizeInvesment","parent":56,"type":"","printType":"","children":[{"id":58,"tag":"ChapterSpecificationSpecificationTypeName","parent":57,"type":"","printType":"value","children":[]}]}]},{"id":59,"tag":"PreferredSizeInvesmentInfo","parent":3,"type":"","printType":"","children":[{"id":60,"tag":"PreferredSizeInvesment","parent":59,"type":"","printType":"","children":[{"id":61,"tag":"ChapterSpecificationSpecificationTypeName","parent":60,"type":"","printType":"value","children":[]}]}]},{"id":62,"tag":"AvgNumberOfDealsCompletedAnnuallyInfo","parent":3,"type":"","printType":"","children":[{"id":63,"tag":"AvgNumberOfDealsCompletedAnnually","parent":62,"type":"","printType":"","children":[{"id":64,"tag":"ChapterSpecificationSpecificationTypeName","parent":63,"type":"","printType":"value","children":[]}]}]},{"id":65,"tag":"AvgAmountInvestedAnnuallyInfo","parent":3,"type":"","printType":"","children":[{"id":66,"tag":"AvgAmountInvestedAnnually","parent":65,"type":"","printType":"","children":[{"id":67,"tag":"ChapterSpecificationSpecificationTypeName","parent":66,"type":"","printType":"value","children":[]}]}]}]}]}]}];
function bunflatten(nodes) {
    var map = {}, _node, roots = [];
    for (var i = 0; i < nodes.length; i += 1) {
        _node = nodes[i];
        _node.children = [];
        map[_node.id] = i;
        // use map to look-up the parents
        if (_node.parent !== "0") {
            _node.children = [];
            nodes[map[_node.parent]].children.push(_node);
        } else {
            roots.push(_node);
        }
    }
    return roots;
}
arr.map(function(data) {
    data.children = [];
    return data;
})
z = bunflatten(arr);
console.log(z);
